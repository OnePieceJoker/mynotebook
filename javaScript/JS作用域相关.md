# JS作用域相关
### 执行环境
**执行环境**是JavaScript中最为重要的一个概念。执行环境定义了变量或函数有权访问的数据，决定了它们各自的行为。

每个执行环境都有一个与之关联的变量对象，环境中定义的所有变量和函数都保存在这个对象中。

**全局执行环境**是最外围的一个执行环境。某个执行环境中的所有代码执行完毕后，该环境被销毁，保存在其中的所有变量和函数定义也随之销毁。每个函数都有自己的执行环境。

当代码在一个环境中执行时，会创建变量对象的一个作用域链。
**作用域链**的用途是保证对执行环境有权访问的所有变量和函数的有序访问。

作用域链的前端，始终都是当前执行代码所在的环境的变量对象。如果这个环境是函数，则将其活动对象作为变量对象。

活动对象在最开始时只包含一个变量，即arguments对象（这个对象在全局环境中是不存在的）。

作用域链中的下一个变量对象来自包含（外部）环境，而再下一个变量对象则来自下一个包含环境。全局执行环境的变量对象始终都是作用域链中的最后一个对象。

因为这个作用域链，所以在JavaScript中没有块级作用域，因为，JavaScript会去上级环境中去匹配标识符，所以在声明变量的时候，使用var声明的变量会自动被添加到最接近的环境中。否则，该变量会自动添加到全局环境。